<!-- 
  Icon Component
  
  A reusable, accessible icon component that supports multiple icon sources
  and provides proper accessibility attributes for screen readers.
  
  Usage Examples:
  
  Basic icon:
  <span class="icon" data-icon="search" aria-label="Search"></span>
  
  Icon with text (decorative):
  <button class="btn">
    <span class="icon" data-icon="plus" aria-hidden="true"></span>
    Add Item
  </button>
  
  Large icon:
  <span class="icon icon--lg" data-icon="warning" aria-label="Warning"></span>
  
  Custom color icon:
  <span class="icon icon--primary" data-icon="check" aria-label="Success"></span>
  
  Icon with custom size:
  <span class="icon" data-icon="star" aria-label="Favorite" style="--icon-size: 2rem;"></span>
-->

<span 
  class="icon" 
  data-icon="placeholder"
  aria-label="Icon description"
  role="img"
>
  <!-- SVG icon will be inserted here via JavaScript or CSS -->
  <svg 
    width="24" 
    height="24" 
    viewBox="0 0 24 24" 
    fill="none" 
    xmlns="http://www.w3.org/2000/svg"
    aria-hidden="true"
  >
    <!-- Default placeholder icon - replace with actual icon -->
    <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
    <circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"/>
    <path d="M21 15l-5-5L5 21l5-5" stroke="currentColor" stroke-width="2"/>
  </svg>
</span>

<style>
  .icon {
    /* CSS Custom Properties for theming */
    --icon-size: 1.5rem;
    --icon-color: currentColor;
    
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--icon-size);
    height: var(--icon-size);
    color: var(--icon-color);
    flex-shrink: 0;
    user-select: none;
  }
  
  .icon svg {
    width: 100%;
    height: 100%;
    display: block;
  }
  
  /* Size variants */
  .icon--xs {
    --icon-size: 1rem;
  }
  
  .icon--sm {
    --icon-size: 1.25rem;
  }
  
  .icon--lg {
    --icon-size: 2rem;
  }
  
  .icon--xl {
    --icon-size: 2.5rem;
  }
  
  .icon--2xl {
    --icon-size: 3rem;
  }
  
  /* Color variants */
  .icon--primary {
    --icon-color: var(--color-primary, #2563eb);
  }
  
  .icon--secondary {
    --icon-color: var(--color-secondary, #64748b);
  }
  
  .icon--accent {
    --icon-color: var(--color-accent, #f59e0b);
  }
  
  .icon--success {
    --icon-color: var(--color-success, #16a34a);
  }
  
  .icon--warning {
    --icon-color: var(--color-warning, #d97706);
  }
  
  .icon--error {
    --icon-color: var(--color-error, #dc2626);
  }
  
  .icon--muted {
    --icon-color: var(--color-text-muted, #64748b);
  }
  
  /* Interactive states */
  .icon--interactive {
    cursor: pointer;
    transition: all var(--transition-fast, 0.15s ease);
  }
  
  .icon--interactive:hover {
    opacity: 0.8;
    transform: scale(1.05);
  }
  
  .icon--interactive:active {
    transform: scale(0.95);
  }
  
  /* Focus states for accessibility */
  .icon--interactive:focus {
    outline: 2px solid var(--color-primary, #2563eb);
    outline-offset: 2px;
    border-radius: var(--border-radius-sm, 0.25rem);
  }
  
  /* Animation variants */
  .icon--spin {
    animation: icon-spin 1s linear infinite;
  }
  
  .icon--pulse {
    animation: icon-pulse 2s infinite;
  }
  
  .icon--bounce {
    animation: icon-bounce 1s infinite;
  }
  
  /* Animations */
  @keyframes icon-spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  
  @keyframes icon-pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }
  
  @keyframes icon-bounce {
    0%, 20%, 53%, 80%, 100% {
      animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
      transform: translate3d(0, 0, 0);
    }
    40%, 43% {
      animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);
      transform: translate3d(0, -8px, 0);
    }
    70% {
      animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);
      transform: translate3d(0, -4px, 0);
    }
    90% {
      transform: translate3d(0, -2px, 0);
    }
  }
  
  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .icon {
      --icon-color: ButtonText;
    }
  }
  
  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .icon--spin,
    .icon--pulse,
    .icon--bounce {
      animation: none;
    }
    
    .icon--interactive {
      transition: none;
    }
    
    .icon--interactive:hover {
      transform: none;
    }
  }
</style>

<script>
  // Icon component JavaScript for dynamic icon loading
  (function() {
    'use strict';
    
    // Icon registry - add your icon sets here
    const iconRegistry = {
      // Basic icons
      'search': '<path d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" stroke="currentColor" stroke-width="1.5" fill="none"/>',
      'plus': '<path d="M12 4.5v15m7.5-7.5h-15" stroke="currentColor" stroke-width="1.5"/>',
      'minus': '<path d="M19.5 12h-15" stroke="currentColor" stroke-width="1.5"/>',
      'check': '<path d="M4.5 12.75l6 6 9-13.5" stroke="currentColor" stroke-width="1.5" fill="none"/>',
      'close': '<path d="M6 18L18 6M6 6l12 12" stroke="currentColor" stroke-width="1.5"/>',
      'arrow-right': '<path d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" stroke="currentColor" stroke-width="1.5" fill="none"/>',
      'arrow-left': '<path d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" stroke="currentColor" stroke-width="1.5" fill="none"/>',
      'warning': '<path d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" stroke="currentColor" stroke-width="1.5" fill="none"/>',
      'info': '<path d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" stroke="currentColor" stroke-width="1.5" fill="none"/>',
      'star': '<path d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" fill="currentColor"/>',
      'heart': '<path d="M21 8.5c0-2.485-2.239-4.5-5-4.5-1.738 0-3.297.746-4 1.946C11.297 4.746 9.738 4 8 4 5.239 4 3 6.015 3 8.5s2.239 4.5 5 4.5c1.738 0 3.297-.746 4-1.946.703 1.2 2.262 1.946 4 1.946 2.761 0 5-2.015 5-4.5z" fill="currentColor"/>',
      'menu': '<path d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" stroke="currentColor" stroke-width="1.5"/>',
      'external-link': '<path d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" stroke="currentColor" stroke-width="1.5" fill="none"/>'
    };
    
    // Initialize all icon components on page load
    function initIcons() {
      const icons = document.querySelectorAll('.icon[data-icon]');
      icons.forEach(updateIcon);
    }
    
    // Update a single icon component
    function updateIcon(iconElement) {
      const iconName = iconElement.getAttribute('data-icon');
      const svgElement = iconElement.querySelector('svg');
      
      if (iconName && iconRegistry[iconName] && svgElement) {
        // Clear existing content
        svgElement.innerHTML = '';
        
        // Add new icon content
        svgElement.innerHTML = iconRegistry[iconName];
        
        // Ensure proper accessibility
        if (!iconElement.getAttribute('aria-label') && !iconElement.getAttribute('aria-hidden')) {
          iconElement.setAttribute('aria-hidden', 'true');
        }
      }
    }
    
    // API for adding new icons
    window.IconComponent = {
      register: function(name, svg) {
        iconRegistry[name] = svg;
      },
      
      update: updateIcon,
      
      init: initIcons
    };
    
    // Auto-initialize on DOM ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initIcons);
    } else {
      initIcons();
    }
  })();
</script>